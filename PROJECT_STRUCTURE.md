# ๐๏ธ ูููู ุงููุดุฑูุน - Project Structure

## ๐ ุงูุจููุฉ ุงูุนุงูุฉ

```
music_project/
โโโ ๐ฑ user_app/                    # ุชุทุจูู ุงููุณุชุฎุฏู
โโโ ๐ admin_app/                   # ุชุทุจูู ุงูุฃุฏูู
โโโ ๐ shared/                      # ุงููููุงุช ุงููุดุชุฑูุฉ
โโโ ๐๏ธ supabase/                    # ุฅุนุฏุงุฏุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
โโโ ๐ README.md                    # ุฏููู ุงููุดุฑูุน ุงููุงูู
โโโ โก QUICK_START.md               # ุฏููู ุงูุจุฏุก ุงูุณุฑูุน
โโโ ๐๏ธ PROJECT_STRUCTURE.md        # ูุฐุง ุงูููู
```

## ๐ฑ ุชุทุจูู ุงููุณุชุฎุฏู (user_app/)

```
user_app/
โโโ lib/
โ   โโโ ๐ฏ main.dart                # ููุทุฉ ุงูุจุฏุงูุฉ
โ   โโโ core/                       # ุงููููุงุช ุงูุฃุณุงุณูุฉ
โ   โ   โโโ theme/
โ   โ   โ   โโโ app_theme.dart      # ุชุตููู ุงูุชุทุจูู
โ   โ   โโโ services/
โ   โ       โโโ audio_service.dart  # ุฎุฏูุฉ ุชุดุบูู ุงูุตูุช
โ   โ       โโโ download_service.dart # ุฎุฏูุฉ ุงูุชุญููู
โ   โโโ presentation/               # ูุงุฌูุฉ ุงููุณุชุฎุฏู
โ       โโโ bloc/                   # ุฅุฏุงุฑุฉ ุงูุญุงูุฉ
โ       โ   โโโ auth/
โ       โ   โโโ music/
โ       โ   โโโ user/
โ       โโโ pages/                  # ุงูุตูุญุงุช
โ       โ   โโโ splash_page.dart
โ       โ   โโโ auth/
โ       โ   โโโ home/
โ       โ   โโโ category/
โ       โ   โโโ player/
โ       โ   โโโ subscription/
โ       โโโ widgets/                # ุงูููููุงุช
โ           โโโ category_card.dart
โ           โโโ track_tile.dart
โ           โโโ mini_player.dart
โโโ android/                        # ุฅุนุฏุงุฏุงุช Android
โโโ ios/                           # ุฅุนุฏุงุฏุงุช iOS
โโโ pubspec.yaml                   # ุชุจุนูุงุช ุงููุดุฑูุน
```

## ๐ ุชุทุจูู ุงูุฃุฏูู (admin_app/)

```
admin_app/
โโโ lib/
โ   โโโ ๐ฏ main.dart                # ููุทุฉ ุงูุจุฏุงูุฉ
โ   โโโ core/
โ   โ   โโโ theme/
โ   โ       โโโ admin_theme.dart    # ุชุตููู ููุญุฉ ุงูุชุญูู
โ   โโโ presentation/
โ       โโโ bloc/                   # ุฅุฏุงุฑุฉ ุงูุญุงูุฉ
โ       โ   โโโ auth/
โ       โ   โโโ content/
โ       โ   โโโ users/
โ       โโโ pages/                  # ุตูุญุงุช ุงูุฅุฏุงุฑุฉ
โ       โ   โโโ splash_page.dart
โ       โ   โโโ auth/
โ       โ   โโโ dashboard/
โ       โ   โโโ categories/
โ       โ   โโโ tracks/
โ       โ   โโโ users/
โ       โ   โโโ settings/
โ       โโโ widgets/                # ููููุงุช ุงูุฅุฏุงุฑุฉ
โ           โโโ admin_drawer.dart
โ           โโโ stats_card.dart
โโโ android/
โโโ ios/
โโโ pubspec.yaml
```

## ๐ ุงููููุงุช ุงููุดุชุฑูุฉ (shared/)

```
shared/
โโโ models/                         # ููุงุฐุฌ ุงูุจูุงูุงุช
โ   โโโ user_model.dart            # ูููุฐุฌ ุงููุณุชุฎุฏู
โ   โโโ category_model.dart        # ูููุฐุฌ ุงููุณู
โ   โโโ track_model.dart           # ูููุฐุฌ ุงูููุทุน ุงูุตูุชู
โโโ services/                      # ุงูุฎุฏูุงุช ุงููุดุชุฑูุฉ
    โโโ supabase_service.dart      # ุฎุฏูุฉ Supabase
```

## ๐๏ธ ุฅุนุฏุงุฏุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช (supabase/)

```
supabase/
โโโ schema.sql                     # ูููู ูุงุนุฏุฉ ุงูุจูุงูุงุช
โโโ storage.sql                    # ุฅุนุฏุงุฏุงุช ุงูุชุฎุฒูู
```

## ๐ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุงูุฌุฏุงูู ุงูุฑุฆูุณูุฉ:

#### ๐ฅ users
```sql
- id (UUID, PK)
- phone (VARCHAR, UNIQUE)
- display_name (VARCHAR)
- status (ENUM: free, weekly, monthly, yearly)
- subscription_expiry (TIMESTAMP)
- downloaded_tracks (TEXT[])
- total_downloads (INTEGER)
```

#### ๐ categories
```sql
- id (UUID, PK)
- name (VARCHAR)
- name_ar (VARCHAR)
- description (TEXT)
- description_ar (TEXT)
- image_url (TEXT)
- is_locked (BOOLEAN)
- required_subscription (ENUM)
- order_index (INTEGER)
- is_active (BOOLEAN)
```

#### ๐ต tracks
```sql
- id (UUID, PK)
- title (VARCHAR)
- title_ar (VARCHAR)
- artist (VARCHAR)
- artist_ar (VARCHAR)
- category_id (UUID, FK)
- audio_url (TEXT)
- image_url (TEXT)
- duration (INTEGER)
- is_locked (BOOLEAN)
- required_subscription (ENUM)
- download_count (INTEGER)
- play_count (INTEGER)
- order_index (INTEGER)
- is_active (BOOLEAN)
```

#### ๐ admins
```sql
- id (UUID, PK)
- email (VARCHAR, UNIQUE)
- display_name (VARCHAR)
- role (ENUM: super_admin, content_manager, user_manager)
- permissions (TEXT[])
- is_active (BOOLEAN)
```

#### โ๏ธ app_settings
```sql
- key (VARCHAR, PK)
- value (JSONB)
- updated_at (TIMESTAMP)
```

## ๐๏ธ Storage Buckets

### ๐ tracks
- **ุงูุบุฑุถ**: ุชุฎุฒูู ุงููููุงุช ุงูุตูุชูุฉ
- **ุงูุตูุบ ุงููุฏุนููุฉ**: MP3, WAV, M4A
- **ุงูุญุฏ ุงูุฃูุตู**: 50MB ููู ููู
- **ุงูุตูุงุญูุงุช**: ูุฑุงุกุฉ ุนุงูุฉุ ูุชุงุจุฉ ููุฃุฏูู ููุท

### ๐ผ๏ธ track-images
- **ุงูุบุฑุถ**: ุตูุฑ ุงูููุงุทุน ุงูุตูุชูุฉ
- **ุงูุตูุบ ุงููุฏุนููุฉ**: JPG, PNG, WebP
- **ุงูุญุฏ ุงูุฃูุตู**: 5MB ููู ููู
- **ุงูุตูุงุญูุงุช**: ูุฑุงุกุฉ ุนุงูุฉุ ูุชุงุจุฉ ููุฃุฏูู ููุท

### ๐ผ๏ธ category-images
- **ุงูุบุฑุถ**: ุตูุฑ ุงูุฃูุณุงู
- **ุงูุตูุบ ุงููุฏุนููุฉ**: JPG, PNG, WebP
- **ุงูุญุฏ ุงูุฃูุตู**: 5MB ููู ููู
- **ุงูุตูุงุญูุงุช**: ูุฑุงุกุฉ ุนุงูุฉุ ูุชุงุจุฉ ููุฃุฏูู ููุท

## ๐ ุชุฏูู ุงูุจูุงูุงุช

### ุชุทุจูู ุงููุณุชุฎุฏู:
```
User Input โ BLoC โ Supabase Service โ Supabase โ Real-time Updates
```

### ุชุทุจูู ุงูุฃุฏูู:
```
Admin Action โ BLoC โ Supabase Service โ Supabase โ Real-time Sync โ User App
```

## ๐ก๏ธ ุงูุฃูุงู ูุงูุตูุงุญูุงุช

### Row Level Security (RLS):
- โ ุงููุณุชุฎุฏููู: ุงููุตูู ูุจูุงูุงุชูู ููุท
- โ ุงูุฃูุณุงู: ูุฑุงุกุฉ ููุฌููุนุ ูุชุงุจุฉ ููุฃุฏูู
- โ ุงูููุงุทุน: ูุฑุงุกุฉ ููุฌููุนุ ูุชุงุจุฉ ููุฃุฏูู
- โ ุงููุฏูุฑูู: ูุตูู ูุญุฏูุฏ ุญุณุจ ุงูุฏูุฑ
- โ ุงูุฅุนุฏุงุฏุงุช: ูุฑุงุกุฉ ููุฌููุนุ ูุชุงุจุฉ ููุฃุฏูู

### Storage Policies:
- โ ุงููููุงุช ุงูุตูุชูุฉ: ูุฑุงุกุฉ ุนุงูุฉุ ุฑูุน ููุฃุฏูู ููุท
- โ ุงูุตูุฑ: ูุฑุงุกุฉ ุนุงูุฉุ ุฑูุน ููุฃุฏูู ููุท

## ๐ฑ ุงููููุฒุงุช ุงููุทุจูุฉ

### ุชุทุจูู ุงููุณุชุฎุฏู:
- โ ุชุณุฌูู ุงูุฏุฎูู ุจุงููุงุชู
- โ ุชุตูุญ ุงูุฃูุณุงู ูุงูููุงุทุน
- โ ุชุดุบูู ุงูููุณููู ูุน ุชุญูู ูุงูู
- โ ุชุญููู ููุชุดุบูู ุจุฏูู ุฅูุชุฑูุช
- โ ูุธุงู ุงูุงุดุชุฑุงูุงุช
- โ ูุงุฌูุฉ ุนุตุฑูุฉ ูุน ุซูู ุฏุงูู
- โ ุฏุนู ุงููุบุฉ ุงูุนุฑุจูุฉ (RTL)
- โ ูุฒุงููุฉ ูุญุธูุฉ

### ุชุทุจูู ุงูุฃุฏูู:
- โ ุชุณุฌูู ุฏุฎูู ุขูู
- โ ููุญุฉ ุชุญูู ูุน ุฅุญุตุงุฆูุงุช
- โ ุฅุฏุงุฑุฉ ุงูุฃูุณุงู (CRUD)
- โ ุฅุฏุงุฑุฉ ุงูููุงุทุน ูุน ุฑูุน ุงููููุงุช
- โ ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู ูุงูุงุดุชุฑุงูุงุช
- โ ุงูุจุญุซ ุงููุชูุฏู
- โ ุฅุนุฏุงุฏุงุช ุงูุชุทุจูู
- โ ูุธุงู ุตูุงุญูุงุช

## ๐ง ููุงุท ุงูุชุฎุตูุต

### ุงูุฃููุงู ูุงูุชุตููู:
- `user_app/lib/core/theme/app_theme.dart`
- `admin_app/lib/core/theme/admin_theme.dart`

### ุงููุตูุต ูุงูุชุฑุฌูุฉ:
- ุงููุตูุต ูุฏูุฌุฉ ูู ุงูููุฏ (ูููู ุชุญููููุง ููุธุงู ุชุฑุฌูุฉ)

### ุงูุฅุนุฏุงุฏุงุช:
- ุฌุฏูู `app_settings` ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุงูุตูุงุญูุงุช:
- ูููุงุช SQL ูู ูุฌูุฏ `supabase/`

## ๐ ุงูุชุทููุฑ ุงููุณุชูุจูู

### ูููุฒุงุช ููุชุฑุญุฉ:
- [ ] ูุธุงู ุงูุฅุดุนุงุฑุงุช Push
- [ ] ููุงุฆู ุงูุชุดุบูู ุงููุฎุตุตุฉ
- [ ] ูุธุงู ุงูุชููููุงุช ูุงููุฑุงุฌุนุงุช
- [ ] ุชุทุจูู ููุจ ููุฅุฏุงุฑุฉ
- [ ] ุฏุนู ุงููุฒูุฏ ูู ุตูุบ ุงููููุงุช
- [ ] ูุธุงู ุงูุชุญูููุงุช ุงููุชูุฏู
- [ ] ุฏุนู ุงููุบุงุช ุงููุชุนุฏุฏุฉ
- [ ] ูุธุงู ุงูุฏูุน ุงููุชูุงูู

---

**ูุฐุง ุงููุดุฑูุน ุฌุงูุฒ ููุงุณุชุฎุฏุงู ูุงูุชุทููุฑ!** ๐
