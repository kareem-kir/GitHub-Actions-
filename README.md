# ๐ต ูุดุบู ุงูููุณููู - Music Player

ูุดุฑูุน ูุชูุงูู ูุชุทุจูู ูุดุบู ููุณููู ุงุญุชุฑุงูู ูุน ููุญุฉ ุชุญูู ุฅุฏุงุฑูุฉุ ูุจูู ุจุงุณุชุฎุฏุงู Flutter ู Supabase.

## ๐ฑ ุงููุดุฑูุน ูุชููู ูู:

### 1. ุชุทุจูู ุงููุณุชุฎุฏู (User App)
- ูุดุบู ููุณููู ุงุญุชุฑุงูู ูุน ูุงุฌูุฉ ุนุตุฑูุฉ
- ุฏุนู ุงูุชุดุบูู ุจุฏูู ุฅูุชุฑูุช (Offline)
- ูุธุงู ุงุดุชุฑุงูุงุช ูุชุฏุฑุฌ (ูุฌุงููุ ุฃุณุจูุนูุ ุดูุฑูุ ุณููู)
- ุชุญููู ุงูููุงุทุน ุงูุตูุชูุฉ ูุญููุงู
- ูุฒุงููุฉ ูุญุธูุฉ ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช

### 2. ุชุทุจูู ุงูุฃุฏูู (Admin App)
- ููุญุฉ ุชุญูู ุดุงููุฉ ูุฅุฏุงุฑุฉ ุงููุญุชูู
- ุฅุฏุงุฑุฉ ุงูุฃูุณุงู ูุงูููุงุทุน ุงูุตูุชูุฉ
- ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู ูุงูุงุดุชุฑุงูุงุช
- ุฑูุน ุงููููุงุช ุงูุตูุชูุฉ ูุงูุตูุฑ
- ุฅุญุตุงุฆูุงุช ูุชุญูููุงุช

## ๐๏ธ ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ

- **Frontend**: Flutter 3.x
- **Backend**: Supabase (PostgreSQL + Real-time + Storage + Auth)
- **State Management**: BLoC Pattern
- **Audio**: just_audio, audio_service
- **UI**: Material Design 3 ูุน ุฏุนู RTL
- **Storage**: Supabase Storage ูููููุงุช ุงูุตูุชูุฉ ูุงูุตูุฑ

## ๐ ุฅุนุฏุงุฏ ุงููุดุฑูุน

### 1. ูุชุทูุจุงุช ุงููุธุงู
```bash
- Flutter SDK 3.0+
- Dart SDK 3.0+
- Android Studio / VS Code
- ุญุณุงุจ Supabase
```

### 2. ุฅุนุฏุงุฏ Supabase

#### ุฃ. ุฅูุดุงุก ูุดุฑูุน ุฌุฏูุฏ
1. ุงุฐูุจ ุฅูู [supabase.com](https://supabase.com)
2. ุฃูุดุฆ ุญุณุงุจ ุฌุฏูุฏ ุฃู ุณุฌู ุงูุฏุฎูู
3. ุฃูุดุฆ ูุดุฑูุน ุฌุฏูุฏ

#### ุจ. ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช
1. ูู ููุญุฉ ุชุญูู Supabaseุ ุงุฐูุจ ุฅูู SQL Editor
2. ุงูุณุฎ ูุญุชูู ููู `supabase/schema.sql` ูุดุบูู
3. ุงูุณุฎ ูุญุชูู ููู `supabase/storage.sql` ูุดุบูู

#### ุฌ. ุงูุญุตูู ุนูู ููุงุชูุญ API
1. ุงุฐูุจ ุฅูู Settings > API
2. ุงูุณุฎ:
   - Project URL
   - anon public key

### 3. ุฅุนุฏุงุฏ ุงูุชุทุจููุงุช

#### ุฃ. ุชุทุจูู ุงููุณุชุฎุฏู
```bash
cd user_app
flutter pub get
```

#### ุจ. ุชุทุจูู ุงูุฃุฏูู
```bash
cd admin_app
flutter pub get
```

### 4. ุชูููู ุงูููุงุชูุญ

#### ูู `user_app/lib/main.dart`:
```dart
await Supabase.initialize(
  url: 'YOUR_SUPABASE_URL',
  anonKey: 'YOUR_SUPABASE_ANON_KEY',
);
```

#### ูู `admin_app/lib/main.dart`:
```dart
await Supabase.initialize(
  url: 'YOUR_SUPABASE_URL',
  anonKey: 'YOUR_SUPABASE_ANON_KEY',
);
```

#### ูู `shared/services/supabase_service.dart`:
```dart
static Future<void> initialize() async {
  await Supabase.initialize(
    url: 'YOUR_SUPABASE_URL',
    anonKey: 'YOUR_SUPABASE_ANON_KEY',
  );
}
```

## ๐โโ๏ธ ุชุดุบูู ุงููุดุฑูุน

### ุชุทุจูู ุงููุณุชุฎุฏู
```bash
cd user_app
flutter run
```

### ุชุทุจูู ุงูุฃุฏูู
```bash
cd admin_app
flutter run
```

## ๐ ูููู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุงูุฌุฏุงูู ุงูุฑุฆูุณูุฉ:

#### `users` - ุงููุณุชุฎุฏููู
- `id` (UUID) - ูุนุฑู ุงููุณุชุฎุฏู
- `phone` (VARCHAR) - ุฑูู ุงููุงุชู
- `display_name` (VARCHAR) - ุงุณู ุงููุณุชุฎุฏู
- `status` (ENUM) - ุญุงูุฉ ุงูุงุดุชุฑุงู
- `subscription_expiry` (TIMESTAMP) - ุชุงุฑูุฎ ุงูุชูุงุก ุงูุงุดุชุฑุงู

#### `categories` - ุงูุฃูุณุงู
- `id` (UUID) - ูุนุฑู ุงููุณู
- `name` / `name_ar` (VARCHAR) - ุงุณู ุงููุณู
- `is_locked` (BOOLEAN) - ูู ุงููุณู ููููู
- `required_subscription` (ENUM) - ููุน ุงูุงุดุชุฑุงู ุงููุทููุจ

#### `tracks` - ุงูููุงุทุน ุงูุตูุชูุฉ
- `id` (UUID) - ูุนุฑู ุงูููุทุน
- `title` / `title_ar` (VARCHAR) - ุนููุงู ุงูููุทุน
- `audio_url` (TEXT) - ุฑุงุจุท ุงูููู ุงูุตูุชู
- `category_id` (UUID) - ูุนุฑู ุงููุณู

#### `admins` - ุงููุฏูุฑูู
- `id` (UUID) - ูุนุฑู ุงููุฏูุฑ
- `email` (VARCHAR) - ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- `role` (ENUM) - ุฏูุฑ ุงููุฏูุฑ

## ๐ ูุธุงู ุงูุตูุงุญูุงุช

### ุงููุณุชุฎุฏููู:
- ูุฑุงุกุฉ ุจูุงูุงุชูู ุงูุดุฎุตูุฉ ููุท
- ูุฑุงุกุฉ ุงูุฃูุณุงู ูุงูููุงุทุน ุงููุชุงุญุฉ
- ุชุญุฏูุซ ุจูุงูุงุชูู ุงูุดุฎุตูุฉ

### ุงููุฏูุฑูู:
- ุฅุฏุงุฑุฉ ูุงููุฉ ููุฃูุณุงู ูุงูููุงุทุน
- ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู ูุงูุงุดุชุฑุงูุงุช
- ุฑูุน ูุญุฐู ุงููููุงุช
- ุงููุตูู ููุฅุญุตุงุฆูุงุช

## ๐ฑ ูููุฒุงุช ุงูุชุทุจูู

### ุชุทุจูู ุงููุณุชุฎุฏู:
- โ ูุงุฌูุฉ ุนุตุฑูุฉ ูุน ุซูู ุฏุงูู
- โ ุชุดุบูู ุงูููุณููู ูุน ุชุญูู ูุงูู
- โ ุชุญููู ุงูููุงุทุน ููุชุดุบูู ุจุฏูู ุฅูุชุฑูุช
- โ ูุธุงู ุงุดุชุฑุงูุงุช ูุชุฏุฑุฌ
- โ ูุฒุงููุฉ ูุญุธูุฉ ููุจูุงูุงุช
- โ ุฏุนู ุงููุบุฉ ุงูุนุฑุจูุฉ (RTL)

### ุชุทุจูู ุงูุฃุฏูู:
- โ ููุญุฉ ุชุญูู ุดุงููุฉ
- โ ุฅุฏุงุฑุฉ ุงูุฃูุณุงู ูุน ุงูุตูุฑ
- โ ุฑูุน ุงูููุงุทุน ุงูุตูุชูุฉ
- โ ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู ูุงูุงุดุชุฑุงูุงุช
- โ ุฅุญุตุงุฆูุงุช ูุชุญูููุงุช
- โ ูุธุงู ุตูุงุญูุงุช ูุชูุฏู

## ๐ง ุงูุชุฎุตูุต

### ุชุบููุฑ ุฑูู ุงููุงุชุณุงุจ:
ูู ูุงุนุฏุฉ ุงูุจูุงูุงุชุ ุฌุฏูู `app_settings`:
```sql
UPDATE app_settings 
SET value = jsonb_set(value, '{whatsapp_number}', '"+966XXXXXXXXX"')
WHERE key = 'general';
```

### ุฅุถุงูุฉ ูุฏูุฑ ุฌุฏูุฏ:
```sql
INSERT INTO admins (email, display_name, role, is_active) 
VALUES ('admin@example.com', 'Admin Name', 'super_admin', true);
```

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดุงูู ุดุงุฆุนุฉ:

#### 1. ุฎุทุฃ ูู ุงูุงุชุตุงู ุจู Supabase
- ุชุฃูุฏ ูู ุตุญุฉ URL ู API Key
- ุชุญูู ูู ุฅุนุฏุงุฏุงุช ุงูุดุจูุฉ

#### 2. ูุดุงูู ุงูุตูุงุญูุงุช
- ุชุฃูุฏ ูู ุชุดุบูู ูููุงุช SQL ุจุดูู ุตุญูุญ
- ุชุญูู ูู ูุฌูุฏ ุงููุฏูุฑ ูู ุฌุฏูู `admins`

#### 3. ูุดุงูู ุฑูุน ุงููููุงุช
- ุชุฃูุฏ ูู ุฅุนุฏุงุฏ Storage buckets
- ุชุญูู ูู ุตูุงุญูุงุช Storage

## ๐ ุงูุฏุนู

ููุญุตูู ุนูู ุงูุฏุนู ุฃู ุงูุฅุจูุงุบ ุนู ูุดุงูู:
- ุฃูุดุฆ Issue ูู GitHub
- ุชูุงุตู ุนุจุฑ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู

## ๐ ุงูุชุฑุฎูุต

ูุฐุง ุงููุดุฑูุน ูุฑุฎุต ุชุญุช ุฑุฎุตุฉ MIT - ุฑุงุฌุน ููู [LICENSE](LICENSE) ููุชูุงุตูู.

---

## ๐ฏ ุงูุฎุทูุงุช ุงูุชุงููุฉ

- [ ] ุฅุถุงูุฉ ูุธุงู ุงูุฅุดุนุงุฑุงุช
- [ ] ุชุทุจูู ููุจ ููุฅุฏุงุฑุฉ
- [ ] ุฏุนู ุงููุฒูุฏ ูู ุตูุบ ุงููููุงุช ุงูุตูุชูุฉ
- [ ] ูุธุงู ุงูุชููููุงุช ูุงููุฑุงุฌุนุงุช
- [ ] ููุงุฆู ุงูุชุดุบูู ุงููุฎุตุตุฉ

---

**ุชู ุชุทููุฑ ูุฐุง ุงููุดุฑูุน ุจูุงุณุทุฉ Augment Agent** ๐ค
